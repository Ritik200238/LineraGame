<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartoon Defense | Tower Defense Game</title>
    <meta name="description"
        content="A vibrant cartoon-styled tower defense game with colorful defenders and alien enemies.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="logo">
                <span class="logo-icon">ğŸ°</span>
                <h1>Cartoon Defense</h1>
                <span class="chain-badge">Linera</span>
            </div>

            <div class="game-stats">
                <div class="stat-item gold">
                    <span class="stat-icon">ğŸ’°</span>
                    <span id="gold-display" class="stat-value">500</span>
                </div>
                <div class="stat-item health">
                    <span class="stat-icon">â¤ï¸</span>
                    <span id="health-display" class="stat-value">20</span>
                </div>
                <div class="stat-item wave">
                    <span class="stat-icon">ğŸŒŠ</span>
                    <span id="wave-display" class="stat-value">0</span>
                </div>
            </div>

            <div class="connection-status" id="connection-status">
                <span class="status-dot"></span>
                <span id="chain-id">Disconnected</span>
                <button class="btn-icon" id="settings-btn" title="Settings">âš™ï¸</button>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Tower Selection Panel -->
            <aside class="tower-panel">
                <h2>âš”ï¸ Defenders</h2>
                <div class="tower-list" id="tower-list">
                    <!-- Tower cards will be generated by JS -->
                </div>
            </aside>

            <!-- Game Grid -->
            <section class="grid-container">
                <div class="grid-wrapper">
                    <div id="game-grid"></div>
                    <canvas id="effects-canvas"></canvas>
                </div>
            </section>

            <!-- Info Panel -->
            <aside class="info-panel">
                <div class="panel-section">
                    <h3>ğŸ® Battle Status</h3>
                    <div class="status-card">
                        <div class="status-label">Current Phase</div>
                        <div class="status-value" id="game-status">Preparing</div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ›¡ï¸ Selected Defender</h3>
                    <div class="status-card" id="selected-tower-info">
                        <div class="status-label">Selection</div>
                        <div class="status-value">Choose a defender</div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“Š Battle Stats</h3>
                    <div class="stats-row">
                        <div class="mini-stat">
                            <div class="mini-stat-value" id="enemy-count">0</div>
                            <div class="mini-stat-label">Invaders</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-value" id="tower-count">0</div>
                            <div class="mini-stat-label">Defenders</div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ¯ Commands</h3>
                    <div class="control-buttons">
                        <button class="btn btn-primary" id="start-wave-btn">
                            <span>â–¶</span> Start Wave
                        </button>
                        <button class="btn btn-secondary" id="find-game-btn">
                            <span>ğŸ”</span> Find Game
                        </button>
                        <button class="btn btn-secondary" id="refresh-btn">
                            <span>ğŸ”„</span> Refresh
                        </button>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Footer -->
        <footer class="game-footer">
            <div>Â© 2026 Cartoon Defense | Built on Linera</div>
            <div class="footer-links">
                <a href="#" id="demo-mode-link">Demo Mode</a>
                <a href="https://linera.dev" target="_blank">Linera Docs</a>
            </div>
        </footer>
    </div>

    <!-- Character Portraits -->
    <div class="portrait-left">
        <div class="portrait-character" id="portrait-defender">ğŸ¦¸</div>
    </div>
    <div class="portrait-right">
        <div class="portrait-character" id="portrait-enemy">ğŸ‘¾</div>
    </div>

    <!-- Announcement Banner -->
    <div class="announcement-banner" id="announcement-banner">
        <div class="announcement-text" id="announcement-text">WAVE INCOMING!</div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âš™ï¸ Connection Settings</h2>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="service-url">Linera Service URL</label>
                <input type="text" id="service-url" placeholder="http://localhost:8081">
            </div>
            <div class="form-group">
                <label for="chain-input">Chain ID</label>
                <input type="text" id="chain-input" placeholder="Enter your chain ID">
            </div>
            <div class="form-group">
                <label for="app-id">Application ID</label>
                <input type="text" id="app-id" placeholder="Enter your application ID">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-settings">Cancel</button>
                <button class="btn btn-primary" id="save-settings">Connect</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Game Scripts -->
    <script src="effects.js"></script>
    <script src="game.js"></script>
</body>

</html>